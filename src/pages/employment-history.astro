---
import EmploymentHistoryComponent from '@/components/EmploymentHistory.astro';
import {
	getPastEmployers,
	getPersonalInfo,
	getSeoFieldsById,
} from '@/contentful/queries';
import Layout from '@/layouts/Layout.astro';

const [{ name }, pastEmployers, seoField] = await Promise.all([
	getPersonalInfo(),
	getPastEmployers(),
	getSeoFieldsById('4a3PYeoBpPFuf3MyhVTt8G'),
]);
---

<Layout {...seoField} image={(seoField.image as { fields: any }).fields} {name}>
	<EmploymentHistoryComponent {pastEmployers} />
</Layout>
