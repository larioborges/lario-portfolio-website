---
import TimelineItem from '@/ui/TimelineItem.svelte';
import MotionWrapper from '@/motion/MotionWrapper.svelte';
import ContentBlock from '@/ui/ContentBlock.svelte';
import Heading from '@/ui/Heading.svelte';
import type {
	CertificationResponse,
} from '@/contentful/types';

const {
	certifications,
} = Astro.props
---

<style lang="postcss">
	@reference "@/styles/global.css";

	#education {
		@apply from-muted/10 to-background bg-gradient-to-b py-12;

		> div {
			@apply container mx-auto max-w-4xl px-6 md:px-4;
		}

		.heading {
			@apply mb-8 text-center text-2xl font-bold md:text-left;
		}

		.certs-wrapper {
			@apply mb-8;
		}
	}
</style>

<section id="education">
	<div>
		<MotionWrapper client:only='svelte'>
			<Heading icon="🎓" text="Education" client:only='svelte' />
		</MotionWrapper>

		<div class="certs-wrapper">
			{certifications.map(
				(
					certification: CertificationResponse, index: number,
				) => (
					<TimelineItem
						title={`🎓 ${certification.certification}`}
						subtitle={`🏛️ ${certification.institutionName}`}
						subtitleHref={certification.institutionWebsiteUrl}
						location={certification.institutionLocation}
						locationHref={certification.institutionGoogleMapsUrl}
						date={certification.timePeriod}
						isLast={index === certifications.length - 1}
						{index}
						key={`${certification.institutionName}${certification.timePeriod}${index}`}
						client:only='svelte'
					>
						<ContentBlock content={certification.description} client:only='svelte' />
					</TimelineItem>
				),
			)}
		</div>
	</div>
</section>
